# pool:
#   vmImage: 'ubuntu-16.04'

# resources:
#   containers:
#   - container: py37
#     image: python:3.7-slim

jobs:
# - job: BuildContainer
#   displayName: Building Container
#   steps:
#   - script: docker-compose --file tests/docker-compose build
- job: RunInContainer
  displayName: Tox Tests
  pool:
    vmImage: 'ubuntu-16.04'

  strategy:
    matrix:
      lint:
        # containerResource: py37
        toxenv: lint
      pytest:
        # containerResource: py37
        toxenv: py37

  # container: $[ variables['containerResource'] ]
  container: python:3.7-slim

  steps:
  - script: pip3 install tox
  - script: tox

# pool:
#   vmImage: 'ubuntu-16.04'
# container: ubuntu:16.04
# steps:
# - script: printenv